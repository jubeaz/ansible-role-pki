---
- name: Assert groups
  assert:
    that: ( 'root_ca' in group_names ) or ( 'intermediate_ca' in group_names)
    quiet: true

- name: Assert groups
  assert:
    that: not (( 'root_ca' in group_names ) and ( 'intermediate_ca' in group_names))
    quiet: true

- name: Assert only one root
  assert:
    that: (groups['root_ca'] | length) == 1
    quiet: true

- name: assert proper distribution
  assert:
    that:
      - ansible_distribution in ['Ubuntu', 'Archlinux']
    quiet: true
