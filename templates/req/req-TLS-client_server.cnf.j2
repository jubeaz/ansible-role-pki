{{ ansible_managed | comment }}

{% set template = ca_templates_params[ca_templates['TLS-client_server']] %}

[ default ]
SAN                     = DNS:yourdomain.tld

[ req ]
default_bits            = {{ template['default_bits'] }}
encrypt_key             = no
default_md              = {{ template['default_md'] }}
utf8                    = yes
string_mask             = utf8only
prompt                  = yes
distinguished_name      = client_dn
req_extensions          = client_reqext

[ server_dn ]
commonName              = "6. Common Name              (eg, FQDN)"
commonName_max          = 64

[ server_reqext ]
subjectAltName          = $ENV::SAN
